(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Od3L:function(e,t,r){"use strict";r.r(t),r.d(t,"EvaluationModule",(function(){return j}));var n=r("ofXK"),c=r("PCNd"),s=r("tyNb"),o=r("fXoL");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.zc({type:e,selectors:[["app-evaluation-wrapper"]],decls:1,vars:0,template:function(e,t){1&e&&o.Gc(0,"router-outlet")},directives:[s.h],styles:[""]}),e})();var i=r("yTNM");function d(e,t){if(1&e&&(o.Lc(0,"tr"),o.Lc(1,"td"),o.Ad(2),o.Kc(),o.Lc(3,"td"),o.Ad(4),o.Kc(),o.Lc(5,"td"),o.Ad(6),o.Kc(),o.Lc(7,"td"),o.Ad(8),o.Kc(),o.Lc(9,"td"),o.Lc(10,"button",8),o.Ad(11,"Evaluate"),o.Kc(),o.Kc(),o.Kc()),2&e){const e=t.$implicit,r=t.index;o.rc(2),o.Bd(r+1),o.rc(2),o.Bd(e.regNumber),o.rc(2),o.Bd(e.pendingStatus),o.rc(2),o.Bd(e.imageUrl)}}let l=(()=>{class e{constructor(e,t){this.apiService=e,this.router=t,this.testPapers=[]}getPapers(){try{this.apiService.showLoader.next(!0),this.apiService.fetchPapersBasedOnStatus("IN_PROGRESS").subscribe(e=>{this.apiService.showLoader.next(!1),e&&"object"==typeof e&&Object.keys(e).forEach(t=>{this.testPapers.push(e[t])})},e=>{if(this.apiService.showLoader.next(!1),401!==e.status){if(e.error){const t="string"==typeof e.error?JSON.parse(e.error):{};this.apiService.genericMessage(t.error||"something went wrong","error")}console.log(e)}else this.router.navigate(["/login"])})}catch(e){console.warn(e)}}ngOnInit(){this.getPapers()}}return e.\u0275fac=function(t){return new(t||e)(o.Fc(i.a),o.Fc(s.c))},e.\u0275cmp=o.zc({type:e,selectors:[["app-evaluation-list"]],decls:21,vars:1,consts:[[1,"col-md-12","animated","rotateInUpLeft"],[1,"w-100","m-auto"],[1,"text-center"],[1,"card-body"],[1,"table-responsive"],[1,"table","text-center"],[1,"table-dark"],[4,"ngFor","ngForOf"],["type","button",1,"my-btn","my-btn-primary","small"]],template:function(e,t){1&e&&(o.Lc(0,"div",0),o.Lc(1,"div",1),o.Lc(2,"h2",2),o.Ad(3,"Evaluation Papers"),o.Kc(),o.Lc(4,"div",3),o.Lc(5,"div",4),o.Lc(6,"table",5),o.Lc(7,"thead",6),o.Lc(8,"tr"),o.Lc(9,"th"),o.Ad(10,"S.No"),o.Kc(),o.Lc(11,"th"),o.Ad(12,"Register Number"),o.Kc(),o.Lc(13,"th"),o.Ad(14,"Status"),o.Kc(),o.Lc(15,"th"),o.Ad(16,"Bucket URL"),o.Kc(),o.Lc(17,"th"),o.Ad(18,"Action"),o.Kc(),o.Kc(),o.Kc(),o.Lc(19,"tbody"),o.yd(20,d,12,4,"tr",7),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Kc()),2&e&&(o.rc(20),o.gd("ngForOf",t.testPapers))},directives:[n.k],styles:[""]}),e})();var p=r("R0Ic"),u=r("3Pt+"),g=r("OXpz");function h(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function L(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function K(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function f(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function m(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function b(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function y(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function v(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function M(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function w(e,t){1&e&&(o.Lc(0,"span",40),o.Ad(1,"Only digits (0-9) are allowed here."),o.Kc())}function O(e,t){1&e&&(o.Lc(0,"div",41),o.Ad(1," You selected Reject Paper. If not intended, please unselect and proceed. "),o.Kc())}const P=function(){return{standalone:!0}},S=function(e){return{"evaluation__text-area--readonly":e}};function q(e,t){if(1&e){const e=o.Mc();o.Lc(0,"div",4),o.Lc(1,"div",5),o.Lc(2,"form",6),o.Xc("submit",(function(){return o.qd(e),o.Zc().submitPaper()})),o.Lc(3,"div",7),o.Lc(4,"div",8),o.Lc(5,"div",9),o.Lc(6,"b"),o.Ad(7,"Registration Number : "),o.Kc(),o.Kc(),o.Lc(8,"div",10),o.Lc(9,"input",11),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().paperDetails.userName=t})),o.Kc(),o.Kc(),o.Kc(),o.Lc(10,"div",12),o.Lc(11,"div",13),o.Lc(12,"b",14),o.Ad(13,"Reject Paper : "),o.Kc(),o.Lc(14,"label",15),o.Lc(15,"input",16),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().rejectPaper=t})),o.Kc(),o.Gc(16,"span",17),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Lc(17,"div",18),o.Lc(18,"table",19),o.Lc(19,"thead"),o.Lc(20,"tr",20),o.Lc(21,"th"),o.Ad(22,"Q No."),o.Kc(),o.Lc(23,"th"),o.Ad(24,"Answer"),o.Kc(),o.Lc(25,"th",21),o.Ad(26,"Q No."),o.Kc(),o.Lc(27,"th"),o.Ad(28,"Answer"),o.Kc(),o.Kc(),o.Kc(),o.Lc(29,"tbody"),o.Lc(30,"tr"),o.Lc(31,"td"),o.Lc(32,"p"),o.Ad(33,"1"),o.Kc(),o.Kc(),o.Lc(34,"td"),o.Lc(35,"input",22,23),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[0]=t})),o.Kc(),o.Lc(37,"p",24),o.yd(38,h,2,0,"span",25),o.Kc(),o.Kc(),o.Lc(39,"td",21),o.Lc(40,"p"),o.Ad(41,"2"),o.Kc(),o.Kc(),o.Lc(42,"td"),o.Lc(43,"input",22,26),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[1]=t})),o.Kc(),o.Lc(45,"p",24),o.yd(46,L,2,0,"span",25),o.Kc(),o.Kc(),o.Kc(),o.Lc(47,"tr"),o.Lc(48,"td"),o.Lc(49,"p"),o.Ad(50,"3"),o.Kc(),o.Kc(),o.Lc(51,"td"),o.Lc(52,"input",22,27),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[2]=t})),o.Kc(),o.Lc(54,"p",24),o.yd(55,K,2,0,"span",25),o.Kc(),o.Kc(),o.Lc(56,"td",21),o.Lc(57,"p"),o.Ad(58,"4"),o.Kc(),o.Kc(),o.Lc(59,"td"),o.Lc(60,"input",22,28),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[3]=t})),o.Kc(),o.Lc(62,"p",24),o.yd(63,f,2,0,"span",25),o.Kc(),o.Kc(),o.Kc(),o.Lc(64,"tr"),o.Lc(65,"td"),o.Lc(66,"p"),o.Ad(67,"5"),o.Kc(),o.Kc(),o.Lc(68,"td"),o.Lc(69,"input",22,29),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[4]=t})),o.Kc(),o.Lc(71,"p",24),o.yd(72,m,2,0,"span",25),o.Kc(),o.Kc(),o.Lc(73,"td",21),o.Lc(74,"p"),o.Ad(75,"6"),o.Kc(),o.Kc(),o.Lc(76,"td"),o.Lc(77,"input",22,30),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[5]=t})),o.Kc(),o.Lc(79,"p",24),o.yd(80,b,2,0,"span",25),o.Kc(),o.Kc(),o.Kc(),o.Lc(81,"tr"),o.Lc(82,"td"),o.Lc(83,"p"),o.Ad(84,"7"),o.Kc(),o.Kc(),o.Lc(85,"td"),o.Lc(86,"input",22,31),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[6]=t})),o.Kc(),o.Lc(88,"p",24),o.yd(89,y,2,0,"span",25),o.Kc(),o.Kc(),o.Lc(90,"td",21),o.Lc(91,"p"),o.Ad(92,"8"),o.Kc(),o.Kc(),o.Lc(93,"td"),o.Lc(94,"input",22,32),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[7]=t})),o.Kc(),o.Lc(96,"p",24),o.yd(97,v,2,0,"span",25),o.Kc(),o.Kc(),o.Kc(),o.Lc(98,"tr"),o.Lc(99,"td"),o.Lc(100,"p"),o.Ad(101,"9"),o.Kc(),o.Kc(),o.Lc(102,"td"),o.Lc(103,"input",22,33),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[8]=t})),o.Kc(),o.Lc(105,"p",24),o.yd(106,M,2,0,"span",25),o.Kc(),o.Kc(),o.Lc(107,"td",21),o.Lc(108,"p"),o.Ad(109,"10"),o.Kc(),o.Kc(),o.Lc(110,"td"),o.Lc(111,"input",22,34),o.Xc("ngModelChange",(function(t){return o.qd(e),o.Zc().questionPapers[9]=t})),o.Kc(),o.Lc(113,"p",24),o.yd(114,w,2,0,"span",25),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Kc(),o.Lc(115,"button",35),o.Ad(116," Submit "),o.Kc(),o.yd(117,O,2,0,"div",36),o.Kc(),o.Kc(),o.Lc(118,"div",5),o.Lc(119,"div",37),o.Lc(120,"button",38),o.Xc("click",(function(){return o.qd(e),o.Zc().rotate()})),o.Ad(121," Rotate "),o.Kc(),o.Kc(),o.Gc(122,"br"),o.Gc(123,"br"),o.Gc(124,"img",39),o.Kc(),o.Kc()}if(2&e){const e=o.pd(36),t=o.pd(44),r=o.pd(53),n=o.pd(61),c=o.pd(70),s=o.pd(78),a=o.pd(87),i=o.pd(95),d=o.pd(104),l=o.pd(112),p=o.Zc();o.rc(9),o.gd("ngModel",p.paperDetails.userName)("ngModelOptions",o.jd(47,P)),o.rc(6),o.gd("ngModel",p.rejectPaper)("ngModelOptions",o.jd(48,P)),o.rc(20),o.gd("ngModel",p.questionPapers[0])("ngModelOptions",o.jd(49,P))("ngClass",o.kd(50,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==e.errors?null:e.errors.pattern),o.rc(5),o.gd("ngModel",p.questionPapers[1])("ngModelOptions",o.jd(52,P))("ngClass",o.kd(53,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==t.errors?null:t.errors.pattern),o.rc(6),o.gd("ngModel",p.questionPapers[2])("ngModelOptions",o.jd(55,P))("ngClass",o.kd(56,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==r.errors?null:r.errors.pattern),o.rc(5),o.gd("ngModel",p.questionPapers[3])("ngModelOptions",o.jd(58,P))("ngClass",o.kd(59,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==n.errors?null:n.errors.pattern),o.rc(6),o.gd("ngModel",p.questionPapers[4])("ngModelOptions",o.jd(61,P))("ngClass",o.kd(62,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==c.errors?null:c.errors.pattern),o.rc(5),o.gd("ngModel",p.questionPapers[5])("ngModelOptions",o.jd(64,P))("ngClass",o.kd(65,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==s.errors?null:s.errors.pattern),o.rc(6),o.gd("ngModel",p.questionPapers[6])("ngModelOptions",o.jd(67,P))("ngClass",o.kd(68,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==a.errors?null:a.errors.pattern),o.rc(5),o.gd("ngModel",p.questionPapers[7])("ngModelOptions",o.jd(70,P))("ngClass",o.kd(71,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==i.errors?null:i.errors.pattern),o.rc(6),o.gd("ngModel",p.questionPapers[8])("ngModelOptions",o.jd(73,P))("ngClass",o.kd(74,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==d.errors?null:d.errors.pattern),o.rc(5),o.gd("ngModel",p.questionPapers[9])("ngModelOptions",o.jd(76,P))("ngClass",o.kd(77,S,p.isFormSubmitted)),o.rc(3),o.gd("ngIf",null==l.errors?null:l.errors.pattern),o.rc(3),o.gd("ngIf",p.rejectPaper),o.rc(7),o.gd("@rotatedState",p.state)("src",p.paperDetails.signedImageUrl,o.td)}}const A=[{path:"",component:a,children:[{path:"paper",component:(()=>{class e{constructor(e,t){this.apiService=e,this.router=t,this.isPageLoaded=!1,this.isFormSubmitted=!1,this.paperDetails={},this.questionPapers=new Array(10),this.rejectPaper=!1,this.state="default"}submitPaper(){this.isFormSubmitted=!0;const e=[];for(let r=0;r<this.questionPapers.length;r++)e[r]=this.questionPapers[r]||0===this.questionPapers[r]?Number(this.questionPapers[r]):null;try{this.apiService.showLoader.next(!0);const t={...this.paperDetails,status:this.rejectPaper?"REJECTED":"VERIFIED",answers:"["+e.toString()+"]"};this.apiService.submitAnswerPaper(t).subscribe(e=>{if(this.apiService.showLoader.next(!1),200===e.status&&e.body){const t=JSON.parse(JSON.parse(e.body)).message;console.log(t),t.includes("reg number")?this.apiService.genericMessage(t,"error"):(this.apiService.genericMessage("Successfully Submitted","success"),e.body&&"string"==typeof e.body&&JSON.parse(e.body),this.resetValues(),this.getPaperDetails())}},e=>{if(this.apiService.showLoader.next(!1),401!==e.status){if(e.error){const t="string"==typeof e.error?JSON.parse(e.error):{};this.apiService.genericMessage(t.error||"something went wrong","error")}console.log(e)}else this.router.navigate(["/login"])})}catch(t){console.warn(t)}console.log(e)}resetValues(){this.rejectPaper=!1,this.paperDetails={},this.questionPapers=new Array(10)}getPaperDetails(){try{this.apiService.showLoader.next(!0),this.apiService.getAnswerPaper().subscribe(e=>{if(this.isPageLoaded=!0,this.apiService.showLoader.next(!1),200===e.status){const n=e.body&&"string"==typeof e.body?JSON.parse(e.body):{};if(n&&Object.keys(n)){this.paperDetails=n,this.paperDetails&&this.paperDetails.pendingStatus&&"UNSPECIFIED"===this.paperDetails.pendingStatus&&this.apiService.genericMessage("No pending papers yet. Please retry after some time!","error");try{var t=this.paperDetails.answers;t&&t.length>2&&t.substring(1,t.length-1).split(",").forEach((e,t)=>{e&&parseInt(e)&&(this.questionPapers[t]=parseInt(e))})}catch(r){console.warn(r)}}}},e=>{this.isPageLoaded=!0,this.apiService.showLoader.next(!1),401!==e.status?(e.error&&e.error.message&&this.apiService.genericMessage(e.error.message||"something went wrong","error"),console.log(e)):this.router.navigate(["/login"])})}catch(e){console.warn(e)}}ngOnInit(){this.getPaperDetails()}rotate(){this.state="default"===this.state?"rotate90":"rotate90"===this.state?"rotate180":"rotate180"===this.state?"rotate270":"default"}}return e.\u0275fac=function(t){return new(t||e)(o.Fc(i.a),o.Fc(s.c))},e.\u0275cmp=o.zc({type:e,selectors:[["app-evaluation-paper"]],decls:5,vars:1,consts:[[1,"page"],[1,"page-header","f-22","m-t-5","m-b-20","font-italic"],[1,"page-content","evaluation"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6"],[3,"submit"],[1,"my-3","f-18","d-flex","justify-content-between"],[1,"d-flex"],[1,"flex-1"],[1,"ml-2","flex-1"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"ml-2"],[1,"custom-control","custom-switch"],[1,"mr-2"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelOptions","ngModelChange"],[1,"slider"],[1,"evaluation__answers-table","row","m-0"],[1,"table","table-border","mb-0"],[1,"white-color"],[1,"border-left"],["type","text","numbersOnly","","pattern","^[0-9]+$",1,"form-control","w-75","ml-2","evaluation__text-area",3,"ngModel","ngModelOptions","ngClass","ngModelChange"],["question1","ngModel"],[1,"field-error","m-0"],["class","field-error-text",4,"ngIf"],["question2","ngModel"],["question3","ngModel"],["question4","ngModel"],["question5","ngModel"],["question6","ngModel"],["question7","ngModel"],["question8","ngModel"],["question9","ngModel"],["question10","ngModel"],["type","submit",1,"my-btn","my-btn-primary","mt-5","mb-4"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"button-wrapper"],[1,"my-btn","my-btn-primary","mt-5","mb-4",3,"click"],["alt","",1,"evaluation__image",3,"src"],[1,"field-error-text"],["role","alert",1,"alert","alert-warning"]],template:function(e,t){1&e&&(o.Lc(0,"div",0),o.Lc(1,"h1",1),o.Ad(2,"Evaluation Sheet"),o.Kc(),o.Lc(3,"div",2),o.yd(4,q,125,79,"div",3),o.Kc(),o.Kc()),2&e&&(o.rc(4),o.gd("ngIf",t.isPageLoaded))},directives:[n.l,u.v,u.m,u.n,u.c,u.l,u.o,u.a,g.a,u.r,n.j],styles:[".evaluation__answers-table[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px}.evaluation__image[_ngcontent-%COMP%]{width:100%;height:80vh}.field-error[_ngcontent-%COMP%]{color:#ed1c24;font-size:12px;padding-top:4px}.button-wrapper[_ngcontent-%COMP%]{margin-top:30px}"],data:{animation:[Object(p.j)("rotatedState",[Object(p.g)("default",Object(p.h)({transform:"rotate(0)"})),Object(p.g)("rotate90",Object(p.h)({transform:"rotate(90deg)"})),Object(p.g)("rotate180",Object(p.h)({transform:"rotate(180deg)"})),Object(p.g)("rotate270",Object(p.h)({transform:"rotate(270deg)"})),Object(p.i)("default => rotate90",Object(p.e)("400ms ease-in")),Object(p.i)("rotate90 => rotate180",Object(p.e)("400ms ease-in")),Object(p.i)("rotate180 => rotate270",Object(p.e)("400ms ease-out")),Object(p.i)("rotate270 => default",Object(p.e)("400ms ease-out"))])]}}),e})()},{path:"list",component:l},{path:"**",redirectTo:"paper",pathMatch:"full"}]}];let j=(()=>{class e{}return e.\u0275mod=o.Dc({type:e}),e.\u0275inj=o.Cc({factory:function(t){return new(t||e)},imports:[[n.b,c.a,s.g.forChild(A)]]}),e})()}}]);