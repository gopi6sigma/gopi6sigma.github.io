(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Od3L:function(e,t,r){"use strict";r.r(t),r.d(t,"EvaluationModule",(function(){return j}));var n=r("ofXK"),c=r("PCNd"),s=r("tyNb"),i=r("fXoL");let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.zc({type:e,selectors:[["app-evaluation-wrapper"]],decls:1,vars:0,template:function(e,t){1&e&&i.Gc(0,"router-outlet")},directives:[s.h],styles:[""]}),e})();var a=r("yTNM");function d(e,t){if(1&e&&(i.Lc(0,"tr"),i.Lc(1,"td"),i.Cd(2),i.Kc(),i.Lc(3,"td"),i.Cd(4),i.Kc(),i.Lc(5,"td"),i.Cd(6),i.Kc(),i.Lc(7,"td"),i.Cd(8),i.Kc(),i.Lc(9,"td"),i.Lc(10,"button",8),i.Cd(11,"Evaluate"),i.Kc(),i.Kc(),i.Kc()),2&e){const e=t.$implicit,r=t.index;i.rc(2),i.Dd(r+1),i.rc(2),i.Dd(e.regNumber),i.rc(2),i.Dd(e.pendingStatus),i.rc(2),i.Dd(e.imageUrl)}}let l=(()=>{class e{constructor(e,t){this.apiService=e,this.router=t,this.testPapers=[]}getPapers(){try{this.apiService.showLoader.next(!0),this.apiService.fetchPapersBasedOnStatus("IN_PROGRESS").subscribe(e=>{this.apiService.showLoader.next(!1),e&&"object"==typeof e&&Object.keys(e).forEach(t=>{this.testPapers.push(e[t])})},e=>{if(this.apiService.showLoader.next(!1),401!==e.status){if(e.error){const t="string"==typeof e.error?JSON.parse(e.error):{};this.apiService.genericMessage(t.error||"something went wrong","error")}console.log(e)}else this.router.navigate(["/login"])})}catch(e){console.warn(e)}}ngOnInit(){this.getPapers()}}return e.\u0275fac=function(t){return new(t||e)(i.Fc(a.a),i.Fc(s.c))},e.\u0275cmp=i.zc({type:e,selectors:[["app-evaluation-list"]],decls:21,vars:1,consts:[[1,"col-md-12","animated","rotateInUpLeft"],[1,"w-100","m-auto"],[1,"text-center"],[1,"card-body"],[1,"table-responsive"],[1,"table","text-center"],[1,"table-dark"],[4,"ngFor","ngForOf"],["type","button",1,"my-btn","my-btn-primary","small"]],template:function(e,t){1&e&&(i.Lc(0,"div",0),i.Lc(1,"div",1),i.Lc(2,"h2",2),i.Cd(3,"Evaluation Papers"),i.Kc(),i.Lc(4,"div",3),i.Lc(5,"div",4),i.Lc(6,"table",5),i.Lc(7,"thead",6),i.Lc(8,"tr"),i.Lc(9,"th"),i.Cd(10,"S.No"),i.Kc(),i.Lc(11,"th"),i.Cd(12,"Register Number"),i.Kc(),i.Lc(13,"th"),i.Cd(14,"Status"),i.Kc(),i.Lc(15,"th"),i.Cd(16,"Bucket URL"),i.Kc(),i.Lc(17,"th"),i.Cd(18,"Action"),i.Kc(),i.Kc(),i.Kc(),i.Lc(19,"tbody"),i.Ad(20,d,12,4,"tr",7),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc()),2&e&&(i.rc(20),i.id("ngForOf",t.testPapers))},directives:[n.k],styles:[""]}),e})();var p=r("R0Ic"),u=r("3Pt+"),g=r("OXpz");function h(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function L(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function b(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function m(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function K(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function f(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function C(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function v(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function M(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function y(e,t){1&e&&(i.Lc(0,"span",40),i.Cd(1,"Only digits (0-9) are allowed here."),i.Kc())}function w(e,t){1&e&&(i.Lc(0,"div",41),i.Cd(1," You selected Reject Paper. If not intended, please unselect and proceed. "),i.Kc())}const O=function(){return{standalone:!0}},P=function(e){return{"evaluation__text-area--readonly":e}};function S(e,t){if(1&e){const e=i.Mc();i.Lc(0,"div",4),i.Lc(1,"div",5),i.Lc(2,"form",6),i.Xc("submit",(function(){return i.sd(e),i.bd().submitPaper()})),i.Lc(3,"div",7),i.Lc(4,"div",8),i.Lc(5,"div",9),i.Lc(6,"b"),i.Cd(7,"Registration Number : "),i.Kc(),i.Kc(),i.Lc(8,"div",10),i.Lc(9,"input",11),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().paperDetails.userName=t})),i.Kc(),i.Kc(),i.Kc(),i.Lc(10,"div",12),i.Lc(11,"div",13),i.Lc(12,"b",14),i.Cd(13,"Reject Paper : "),i.Kc(),i.Lc(14,"label",15),i.Lc(15,"input",16),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().rejectPaper=t})),i.Kc(),i.Gc(16,"span",17),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Lc(17,"div",18),i.Lc(18,"table",19),i.Lc(19,"thead"),i.Lc(20,"tr",20),i.Lc(21,"th"),i.Cd(22,"Q No."),i.Kc(),i.Lc(23,"th"),i.Cd(24,"Answer"),i.Kc(),i.Lc(25,"th",21),i.Cd(26,"Q No."),i.Kc(),i.Lc(27,"th"),i.Cd(28,"Answer"),i.Kc(),i.Kc(),i.Kc(),i.Lc(29,"tbody"),i.Lc(30,"tr"),i.Lc(31,"td"),i.Lc(32,"p"),i.Cd(33,"1"),i.Kc(),i.Kc(),i.Lc(34,"td"),i.Lc(35,"input",22,23),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[0]=t})),i.Kc(),i.Lc(37,"p",24),i.Ad(38,h,2,0,"span",25),i.Kc(),i.Kc(),i.Lc(39,"td",21),i.Lc(40,"p"),i.Cd(41,"2"),i.Kc(),i.Kc(),i.Lc(42,"td"),i.Lc(43,"input",22,26),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[1]=t})),i.Kc(),i.Lc(45,"p",24),i.Ad(46,L,2,0,"span",25),i.Kc(),i.Kc(),i.Kc(),i.Lc(47,"tr"),i.Lc(48,"td"),i.Lc(49,"p"),i.Cd(50,"3"),i.Kc(),i.Kc(),i.Lc(51,"td"),i.Lc(52,"input",22,27),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[2]=t})),i.Kc(),i.Lc(54,"p",24),i.Ad(55,b,2,0,"span",25),i.Kc(),i.Kc(),i.Lc(56,"td",21),i.Lc(57,"p"),i.Cd(58,"4"),i.Kc(),i.Kc(),i.Lc(59,"td"),i.Lc(60,"input",22,28),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[3]=t})),i.Kc(),i.Lc(62,"p",24),i.Ad(63,m,2,0,"span",25),i.Kc(),i.Kc(),i.Kc(),i.Lc(64,"tr"),i.Lc(65,"td"),i.Lc(66,"p"),i.Cd(67,"5"),i.Kc(),i.Kc(),i.Lc(68,"td"),i.Lc(69,"input",22,29),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[4]=t})),i.Kc(),i.Lc(71,"p",24),i.Ad(72,K,2,0,"span",25),i.Kc(),i.Kc(),i.Lc(73,"td",21),i.Lc(74,"p"),i.Cd(75,"6"),i.Kc(),i.Kc(),i.Lc(76,"td"),i.Lc(77,"input",22,30),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[5]=t})),i.Kc(),i.Lc(79,"p",24),i.Ad(80,f,2,0,"span",25),i.Kc(),i.Kc(),i.Kc(),i.Lc(81,"tr"),i.Lc(82,"td"),i.Lc(83,"p"),i.Cd(84,"7"),i.Kc(),i.Kc(),i.Lc(85,"td"),i.Lc(86,"input",22,31),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[6]=t})),i.Kc(),i.Lc(88,"p",24),i.Ad(89,C,2,0,"span",25),i.Kc(),i.Kc(),i.Lc(90,"td",21),i.Lc(91,"p"),i.Cd(92,"8"),i.Kc(),i.Kc(),i.Lc(93,"td"),i.Lc(94,"input",22,32),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[7]=t})),i.Kc(),i.Lc(96,"p",24),i.Ad(97,v,2,0,"span",25),i.Kc(),i.Kc(),i.Kc(),i.Lc(98,"tr"),i.Lc(99,"td"),i.Lc(100,"p"),i.Cd(101,"9"),i.Kc(),i.Kc(),i.Lc(102,"td"),i.Lc(103,"input",22,33),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[8]=t})),i.Kc(),i.Lc(105,"p",24),i.Ad(106,M,2,0,"span",25),i.Kc(),i.Kc(),i.Lc(107,"td",21),i.Lc(108,"p"),i.Cd(109,"10"),i.Kc(),i.Kc(),i.Lc(110,"td"),i.Lc(111,"input",22,34),i.Xc("ngModelChange",(function(t){return i.sd(e),i.bd().questionPapers[9]=t})),i.Kc(),i.Lc(113,"p",24),i.Ad(114,y,2,0,"span",25),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Kc(),i.Lc(115,"button",35),i.Cd(116," Submit "),i.Kc(),i.Ad(117,w,2,0,"div",36),i.Kc(),i.Kc(),i.Lc(118,"div",5),i.Lc(119,"div",37),i.Lc(120,"button",38),i.Xc("click",(function(){return i.sd(e),i.bd().rotate()})),i.Cd(121," Rotate "),i.Kc(),i.Kc(),i.Gc(122,"br"),i.Gc(123,"br"),i.Gc(124,"img",39),i.Kc(),i.Kc()}if(2&e){const e=i.rd(36),t=i.rd(44),r=i.rd(53),n=i.rd(61),c=i.rd(70),s=i.rd(78),o=i.rd(87),a=i.rd(95),d=i.rd(104),l=i.rd(112),p=i.bd();i.rc(9),i.id("ngModel",p.paperDetails.userName)("ngModelOptions",i.ld(47,O)),i.rc(6),i.id("ngModel",p.rejectPaper)("ngModelOptions",i.ld(48,O)),i.rc(20),i.id("ngModel",p.questionPapers[0])("ngModelOptions",i.ld(49,O))("ngClass",i.md(50,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==e.errors?null:e.errors.pattern),i.rc(5),i.id("ngModel",p.questionPapers[1])("ngModelOptions",i.ld(52,O))("ngClass",i.md(53,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==t.errors?null:t.errors.pattern),i.rc(6),i.id("ngModel",p.questionPapers[2])("ngModelOptions",i.ld(55,O))("ngClass",i.md(56,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==r.errors?null:r.errors.pattern),i.rc(5),i.id("ngModel",p.questionPapers[3])("ngModelOptions",i.ld(58,O))("ngClass",i.md(59,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==n.errors?null:n.errors.pattern),i.rc(6),i.id("ngModel",p.questionPapers[4])("ngModelOptions",i.ld(61,O))("ngClass",i.md(62,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==c.errors?null:c.errors.pattern),i.rc(5),i.id("ngModel",p.questionPapers[5])("ngModelOptions",i.ld(64,O))("ngClass",i.md(65,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==s.errors?null:s.errors.pattern),i.rc(6),i.id("ngModel",p.questionPapers[6])("ngModelOptions",i.ld(67,O))("ngClass",i.md(68,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==o.errors?null:o.errors.pattern),i.rc(5),i.id("ngModel",p.questionPapers[7])("ngModelOptions",i.ld(70,O))("ngClass",i.md(71,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==a.errors?null:a.errors.pattern),i.rc(6),i.id("ngModel",p.questionPapers[8])("ngModelOptions",i.ld(73,O))("ngClass",i.md(74,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==d.errors?null:d.errors.pattern),i.rc(5),i.id("ngModel",p.questionPapers[9])("ngModelOptions",i.ld(76,O))("ngClass",i.md(77,P,p.isFormSubmitted)),i.rc(3),i.id("ngIf",null==l.errors?null:l.errors.pattern),i.rc(3),i.id("ngIf",p.rejectPaper),i.rc(7),i.id("@rotatedState",p.state)("src",p.paperDetails.signedImageUrl,i.vd)}}const q=[{path:"",component:o,children:[{path:"paper",component:(()=>{class e{constructor(e,t){this.apiService=e,this.router=t,this.isPageLoaded=!1,this.isFormSubmitted=!1,this.paperDetails={},this.questionPapers=new Array(10),this.rejectPaper=!1,this.state="default"}submitPaper(){this.isFormSubmitted=!0;const e=[];for(let r=0;r<this.questionPapers.length;r++)e[r]=this.questionPapers[r]||0===this.questionPapers[r]?Number(this.questionPapers[r]):null;try{this.apiService.showLoader.next(!0);const t={...this.paperDetails,status:this.rejectPaper?"REJECTED":"VERIFIED",answers:"["+e.toString()+"]"};this.apiService.submitAnswerPaper(t).subscribe(e=>{if(this.apiService.showLoader.next(!1),200===e.status&&e.body){const t=JSON.parse(JSON.parse(e.body)).message;console.log(t),t.includes("reg number")?this.apiService.genericMessage(t,"error"):(this.apiService.genericMessage("Successfully Submitted","success"),e.body&&"string"==typeof e.body&&JSON.parse(e.body),this.resetValues(),this.getPaperDetails())}},e=>{if(this.apiService.showLoader.next(!1),401!==e.status){if(e.error){const t="string"==typeof e.error?JSON.parse(e.error):{};this.apiService.genericMessage(t.error||"something went wrong","error")}console.log(e)}else this.router.navigate(["/login"])})}catch(t){console.warn(t)}console.log(e)}resetValues(){this.rejectPaper=!1,this.paperDetails={},this.questionPapers=new Array(10)}getPaperDetails(){try{this.apiService.showLoader.next(!0),this.apiService.getAnswerPaper().subscribe(e=>{if(this.isPageLoaded=!0,this.apiService.showLoader.next(!1),200===e.status){const n=e.body&&"string"==typeof e.body?JSON.parse(e.body):{};if(n&&Object.keys(n)){this.paperDetails=n,this.paperDetails&&this.paperDetails.pendingStatus&&"UNSPECIFIED"===this.paperDetails.pendingStatus&&this.apiService.genericMessage("No pending papers yet. Please retry after some time!","error");try{var t=this.paperDetails.answers;t&&t.length>2&&t.substring(1,t.length-1).split(",").forEach((e,t)=>{e&&parseInt(e)&&(this.questionPapers[t]=parseInt(e))})}catch(r){console.warn(r)}}}},e=>{this.isPageLoaded=!0,this.apiService.showLoader.next(!1),401!==e.status?(e.error&&e.error.message&&this.apiService.genericMessage(e.error.message||"something went wrong","error"),console.log(e)):this.router.navigate(["/login"])})}catch(e){console.warn(e)}}ngOnInit(){this.getPaperDetails()}rotate(){this.state="default"===this.state?"rotate90":"rotate90"===this.state?"rotate180":"rotate180"===this.state?"rotate270":"default"}}return e.\u0275fac=function(t){return new(t||e)(i.Fc(a.a),i.Fc(s.c))},e.\u0275cmp=i.zc({type:e,selectors:[["app-evaluation-paper"]],decls:5,vars:1,consts:[[1,"page"],[1,"page-header","f-22","m-t-5","m-b-20","font-italic"],[1,"page-content","evaluation"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6"],[3,"submit"],[1,"my-3","f-18","d-flex","justify-content-between"],[1,"d-flex"],[1,"flex-1"],[1,"ml-2","flex-1"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"ml-2"],[1,"custom-control","custom-switch"],[1,"mr-2"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelOptions","ngModelChange"],[1,"slider"],[1,"evaluation__answers-table","row","m-0"],[1,"table","table-border","mb-0"],[1,"white-color"],[1,"border-left"],["type","text","numbersOnly","","pattern","^[0-9]+$",1,"form-control","w-75","ml-2","evaluation__text-area",3,"ngModel","ngModelOptions","ngClass","ngModelChange"],["question1","ngModel"],[1,"field-error","m-0"],["class","field-error-text",4,"ngIf"],["question2","ngModel"],["question3","ngModel"],["question4","ngModel"],["question5","ngModel"],["question6","ngModel"],["question7","ngModel"],["question8","ngModel"],["question9","ngModel"],["question10","ngModel"],["type","submit",1,"my-btn","my-btn-primary","mt-5","mb-4"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"button-wrapper"],[1,"my-btn","my-btn-primary","mt-5","mb-4",3,"click"],["alt","",1,"evaluation__image",3,"src"],[1,"field-error-text"],["role","alert",1,"alert","alert-warning"]],template:function(e,t){1&e&&(i.Lc(0,"div",0),i.Lc(1,"h1",1),i.Cd(2,"Evaluation Sheet"),i.Kc(),i.Lc(3,"div",2),i.Ad(4,S,125,79,"div",3),i.Kc(),i.Kc()),2&e&&(i.rc(4),i.id("ngIf",t.isPageLoaded))},directives:[n.l,u.u,u.l,u.m,u.b,u.k,u.n,u.a,g.a,u.q,n.j],styles:[".evaluation__answers-table[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px}.evaluation__image[_ngcontent-%COMP%]{width:100%;height:80vh}.field-error[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;padding-top:4px}.button-wrapper[_ngcontent-%COMP%]{margin-top:30px}"],data:{animation:[Object(p.j)("rotatedState",[Object(p.g)("default",Object(p.h)({transform:"rotate(0)"})),Object(p.g)("rotate90",Object(p.h)({transform:"rotate(90deg)"})),Object(p.g)("rotate180",Object(p.h)({transform:"rotate(180deg)"})),Object(p.g)("rotate270",Object(p.h)({transform:"rotate(270deg)"})),Object(p.i)("default => rotate90",Object(p.e)("400ms ease-in")),Object(p.i)("rotate90 => rotate180",Object(p.e)("400ms ease-in")),Object(p.i)("rotate180 => rotate270",Object(p.e)("400ms ease-out")),Object(p.i)("rotate270 => default",Object(p.e)("400ms ease-out"))])]}}),e})()},{path:"list",component:l},{path:"**",redirectTo:"paper",pathMatch:"full"}]}];let j=(()=>{class e{}return e.\u0275mod=i.Dc({type:e}),e.\u0275inj=i.Cc({factory:function(t){return new(t||e)},imports:[[n.b,c.a,s.g.forChild(q)]]}),e})()}}]);